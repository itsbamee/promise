<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>자바스크립트에서의 비동기, 동기화</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <section>

  </section>
  <script>
    const frame = document.querySelector('section');

    fetchData('DB/members.json')

    //data fetching 함수
    function fetchData(url) {
      fetch(url).then(data => data.json()).then(json => {
        console.log(json.members)
        createList(json.members, frame)
      })
    }

    //배열을 전달받아서 동적으로 반복돔 생성함수
    function createList(arr, frame) {
      let tags = '';

      arr.forEach((data, idx) => {
        tags += `
          <article>
            <div class='pic'>
              <img src='img/${data.pic}' alt=${data.name}/>
            </div>
            <h2>${data.name}</h2>
            <p>${data.position}</p>
          </article>
        `
      });

      frame.innerHTML = tags;
    }
  </script>
</body>

</html>