<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>자바스크립트에서의 비동기, 동기화</title>
</head>

<body>
  <script>

    function test(delay, callback) {
      setTimeout(() => {
        callback();
      }, delay)
    }
    //순서1 - start 콘솔문 실행 (js callstack 처리)
    console.log('start');
    //순서2 - test함수 호출하고 안쪽의 setTimeOut을 web api에게 전달만하고 끝 (callstack)
    test(0, () => console.log('test1'));
    //순서3 - 두번째 test함수 호출하고 마찬가지로 안쪽의 setTimeOut을 다시 web api에게 전달 (callstack)
    test(0, () => console.log('test2'));
    //순서4 - end 콘솔문 실행
    console.log('end');
    //순서5 - callstack이 넘긴 setTimeOut을 web api가 실행하고 그 값을 다시 event loop를 통해서 다시 callstack에 전달 (web api가 하는일)
    //순서6 - callstack이 넘긴 두번째 setTimeOut을 web api가 실행하고 그 값을 다시 event loop를 통해서 다시 callstack에 전달 (web api가 하는일)
    //web api에 다시 전달되면서 어그러진다. 
  </script>
</body>

</html>